<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>2x2 dev</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900&display=swap&subset=cyrillic-ext"
          rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/bootstrap-grid.min.css">
    <!--<link rel="stylesheet" href="css/bootstrap-datepicker.min.css">-->
    <!--<link rel="stylesheet" href="css/bootstrap-datepicker3.min.css">-->
    <!--<link rel="stylesheet" href="css/bootstrap-datepicker3.standalone.min.css">-->
    <link rel="stylesheet" href="css/daterangepicker.css">
    <link rel="stylesheet" href="css/admin.css">
</head>
<body>
<div class="container admin-container">
    <div class="row pt-3 pb-4">
        <div class="col-3 d-flex align-items-center justify-content-center flex-column">
            <img src="./img/admin/logo_2x2_telegramwin.png" alt="" class="img-fluid">
        </div>
        <div class="col d-flex align-items-center justify-content-center flex-column text-center">
            <span class="admin-container__header d-inline-block">
                Василий Пупкарев
            </span>
            <span class="admin-container__header d-inline-block">
                Баланс: <span>199999.00</span>
            </span>
        </div>
        <div class="col-3 d-flex align-items-end justify-content-center flex-column">
            <button class="button--primary" type="button">Выход</button>
            <button class="button--primary mt-3" type="button">Все ссылки</button>
        </div>
    </div>
    <div class="row py-2 align-items-center justify-content-center">
        <div class="col-6 col-2 col-sm-auto d-flex align-items-center justify-content-start flex-column mb-4">
            <button class="button--primary" type="button">
                Текущий период
            </button>
        </div>
        <div class="col-6 col-2 col-sm-auto d-flex align-items-end align-items-sm-center justify-content-start flex-column mb-4">
            <button class="button--primary" type="button">
                Эта неделя
            </button>
        </div>
        <div class="col-auto ml-sm-auto d-flex align-items-end justify-content-start flex-column flex-sm-row">
            <div class="datepicker-selector d-flex align-items-center align-items-sm-start justify-content-center">
                <div class="">
                    <span class="d-block">Показать</span>
                    <div>
                        <input type="text" id="input-daterange">
                    </div>
                </div>
                <label for="input-daterange" class="calendar-icon " id="datepickers__toggler">
                    <svg class="img-fluid" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" xml:space="preserve">
<metadata> Svg Vector Icons : http://www.onlinewebfonts.com/icon </metadata>
<g><path d="M684.8,378.7h139.1v139.1H684.8V378.7z"/><path d="M684.8,549.2h139.1v138.9H684.8V549.2z"/><path d="M786.1,50.7c0-22.3-18.4-40.7-40.7-40.7h-7.3c-22.3,0-40.7,18.4-40.7,40.7v77.2h88.6L786.1,50.7L786.1,50.7z"/><path d="M515.2,375.1h139.1V514H515.2V375.1z"/><path d="M309,50.7c0-22.3-18.4-40.7-40.9-40.7h-7c-22.5,0-40.9,18.4-40.9,40.7v77.2H309L309,50.7L309,50.7z"/><path d="M345.5,376.9h138.8v139.1H345.5V376.9L345.5,376.9z"/><path d="M172,722.6h138.8v139.1H172V722.6z"/><path d="M175.6,551h139.1v139.1H175.6V551z"/><path d="M851.8,127.9h-65.8v85.8c0,22.3-18.4,40.7-40.7,40.7h-7.3c-22.3,0-40.7-18.4-40.7-40.7v-85.8H309v85.8c0,22.3-18.4,40.7-40.9,40.7h-7c-22.5,0-40.9-18.4-40.9-40.7v-85.8h-72c-43.5,0-79,35.5-79,79v704c0,43.5,35.5,79,79,79h526l256.7-260.7V206.9C930.8,163.4,895.4,127.9,851.8,127.9z M892.5,732.9l-155.1-0.5c-43.5-0.3-70.7,28.5-70.4,71.8l0.8,146.9H145.8c-19.7,0-40.4-13-40.4-36.3V288.3l787.1-0.3V732.9z"/><path d="M345.5,547.2h138.8v139.2H345.5V547.2z"/><path d="M175.6,380.5h139.1v139.1H175.6V380.5L175.6,380.5z"/><path d="M515.2,545.3h139.1v139.1H515.2V545.3z"/><path d="M341.6,719h139.1v139.1H341.6V719z"/></g>
</svg>
                </label>
            </div>
        </div>
    </div>
    <div class="data-table-wrapper my-5">
        <div class="data-table-inner d-flex mb-3">
            <div class="col-auto">
                <div class="data-table-header">
                    <span>Ссылка</span>
                </div>
                <div class="data-table-info">
                    <a href="">t.me/dasjsjsjsjsjj</a>
                </div>
            </div>
            <div class="col-auto">
                <div class="data-table-header">
                    <span>ID игрока</span>
                </div>
                <div class="data-table-info">
                    <span>uauasu</span>
                </div>
            </div>
            <div class="col-auto">
                <div class="data-table-header">
                    <span>Баланс</span>
                </div>
                <div class="data-table-info">
                    <span>1474848</span>
                </div>
            </div>
            <div class="col-auto">
                <div class="data-table-header">
                    <span>Число депов</span>
                </div>
                <div class="data-table-info">
                    <span>1474848</span>
                </div>
            </div>
            <div class="col-auto">
                <div class="data-table-header">
                    <span>Сумма депов</span>
                </div>
                <div class="data-table-info">
                    <span>1474848</span>
                </div>
            </div>
            <div class="col-auto">
                <div class="data-table-header">
                    <span>Админ fee</span>
                </div>
                <div class="data-table-info">
                    <span>1474848</span>
                </div>
            </div>
            <div class="col-auto">
                <div class="data-table-header">
                    <span>Доход аффилейта</span>
                </div>
                <div class="data-table-info">
                    <span>1474848</span>
                </div>
            </div>
        </div>
    </div>
    <div class="row mb-5">
        <div class="col-12 d-flex-align-items-center justify-content-center" id="picker-wrapper"> </div>
    </div>
</div>

<script src="js/script.js"></script>
<script src="js/moment.min.js"></script>
<script src="js/daterangepicker.js"></script>
<script>
    const fromTimeInput = $('#date_added');
    const toTimeInput = $('#date_modified');
    const fromTime = fromTimeInput.val();
    const toTime = toTimeInput.val();
    const datepickerToggler = document.querySelector('#datepickers__toggler');
    let datepickersAreVisible = false;
    const inputDaterange = $('#input-daterange');
    inputDaterange.daterangepicker({
        "startDate": "14.07.2019",
        "endDate": "20.07.2019",
        autoApply: true,
        parentEl: '#picker-wrapper',
       locale:{
           "format": 'DD.MM.YYYY'
       },
    }, function(start, end, label) {
        console.log('New date range selected: ' + start.format('YYYY-MM-DD') + ' to ' + end.format('YYYY-MM-DD') + ' (predefined range: ' + label + ')');
    });
    // fromTimeInput.datepicker({
    //     keyboardNavigation: false,
    //     forceParse: false,
    //     calendarWeeks: true,
    //     autoclose: false,
    //     endDate: toTime,
    //     showOnFocus: false,
    //     container: "#picker-from-wrapper",
    //     format: 'dd/mm/yyyy'
    // });
    // toTimeInput.datepicker({
    //     keyboardNavigation: false,
    //     forceParse: false,
    //     calendarWeeks: true,
    //     autoclose: false,
    //     startDate: fromTime,
    //     showOnFocus: false,
    //     container: "#picker-to-wrapper",
    //     format: 'dd.mm.yyyy'
    // });
    // fromTimeInput.on("changeDate", function (e) {
    //     toTimeInput.datepicker('setStartDate', e.date);
    // });
    // toTimeInput.on("changeDate", function (e) {
    //     fromTimeInput.datepicker('setEndDate', e.date);
    // });
    function hideKeyboard(element) {
        element.attr('readonly', 'readonly'); // Force keyboard to hide on input field.
        element.attr('disabled', 'true'); // Force keyboard to hide on textarea field.
        setTimeout(function() {
            element.blur();  //actually close the keyboard
            // Remove readonly attribute after keyboard is hidden.
            element.removeAttr('readonly');
            element.removeAttr('disabled');
        }, 100);
    }
    const datepicker  = document.querySelector('.daterangepicker');
    const inputDatepicker = document.querySelector('#input-daterange');
    datepickerToggler.addEventListener('click', () => {
        datepickersAreVisible = !datepickersAreVisible;
        if (datepickersAreVisible){
            datepicker.style.display = 'flex';
            hideKeyboard(inputDatepicker)
        }else{
            datepicker.style.display = 'none';
        }
    })

    inputDatepicker.focus();
    inputDatepicker.blur();
    console.log(inputDatepicker)
    datepicker.style.display = 'none';
    inputDatepicker.addEventListener('focus',()=>{
        if(!datepickersAreVisible){
            datepicker.style.display = 'none';
            datepickersAreVisible = false;
        }

    })
    inputDaterange.on('hide.daterangepicker', function(ev, picker) {
        datepickersAreVisible = false;
    });
</script>
</body>
</html>